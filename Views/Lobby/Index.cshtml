<!DOCTYPE html>
<html>
<head>
	<title>Rooms Dashboard</title>
	<link rel="stylesheet" href="~/css/Lobby.css" asp-append-version="true" />
</head>
<body>
	<div class="container-fluid h-100">
		<div class="row h-100">
			<!-- Sidebar -->
			<aside class="col-md-3 sidebar d-flex flex-column">
				<div class="user-info">
					<h4 id="username">JohnDoe</h4>
					<p>Balance: <strong id="balance">$150.00</strong></p>
				</div>

				<h5 class="text-white mb-2">Online Users</h5>
				<div class="friends" id="friendsList">
					<!-- Friends will be loaded here -->
				</div>

				<button class="btn btn-outline-light logout-btn" onclick="logout()">Logout</button>
			</aside>

			<!-- Main Content -->
			<main class="col-md-9 p-4 bg-light">
				<h3>Available Rooms</h3>
				<div id="roomList">
					<!-- Room cards will be added by JS -->
				</div>
			</main>
		</div>
	</div>

	<script>
		  const currentUser = {
			  username: "JohnDoe",
			  balance: 150.00
		  };

		  const rooms = [
			  { name: "Room A", users: 3 },
			  { name: "Room B", users: 5 },
			  { name: "Room C", users: 2 },
			  { name: "Room D", users: 4 },
			  { name: "Room E", users: 1 }
		  ];

		  const usersOnline = [
			  { username: "Alice" },
			  { username: "Bob" },
			  { username: "Charlie" },
			  { username: "Diana" },
			  { username: "Eve" }
		  ];

		  // Load user info
		  document.getElementById("username").textContent = currentUser.username;
		  document.getElementById("balance").textContent = `$${currentUser.balance.toFixed(2)}`;

		  // Load rooms
		  const roomList = document.getElementById("roomList");
		  rooms.forEach(room => {
			  const div = document.createElement("div");
			  div.className = "room-card d-flex justify-content-between align-items-center";
			  div.innerHTML = `
		  <div>
			<h5>${room.name}</h5>
			<p class="mb-0">Users: ${room.users}</p>
		  </div>
		  <button class="btn btn-sm btn-primary" onclick="joinRoom('${room.name}')">Join</button>
		`;
			  roomList.appendChild(div);
		  });

		  // Load friends
		  const friendsList = document.getElementById("friendsList");
		  usersOnline.forEach(friend => {
			  const friendDiv = document.createElement("div");
			  friendDiv.className = "friend";

			  friendDiv.innerHTML = `
		  <div class="friend-name">
			<span class="status-dot"></span>
			${friend.username}
		  </div>
		  <button class="btn btn-sm btn-outline-light" onclick="invite('${friend.username}')">Invite</button>
		`;
			  friendsList.appendChild(friendDiv);
		  });

		function joinRoom(name) {
			window.location.href = `/Game/Index?room=${encodeURIComponent(name)}`;
		}


		  function invite(username) {
			  alert(`Inviting ${username} to a room...`);
		  }

		  function logout() {
			  alert("Logged out!");
			  // Add real logout logic here
		  }
	</script>
</body>
</html>